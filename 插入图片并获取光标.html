<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>insertimg</title>  
  </head>
  <style>
  	#editer *{
  		max-width: 100%;
  	}
  </style>
  <body>
  	  <div id="editer" contentEditable="true" style="border:1px solid #ccc;width:400px;height:200px" >
     123456<br/>123456
     </div>
     <button onclick="InsertImage()">InsertImage</button> 
     <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
 <script language="javascript">
 var editer=document.getElementById('editer');
 function InsertImage(){
    ImagePath = window.prompt('图片URL:', '');
    editer.focus();
    document.execCommand('InsertImage', false, ImagePath);
 }
 //定位div(contenteditable = "true")
        function po_Last_Div(obj) {
            if (window.getSelection) {//ie11 10 9 ff safari
                obj.focus(); //解决ff不获取焦点无法定位问题
                var range = window.getSelection();//创建range
                range.selectAllChildren(obj);//range 选择obj下所有子内容
                range.collapseToEnd();//光标移至最后
            }
            else if (document.selection) {//ie10 9 8 7 6 5
                var range = document.selection.createRange();//创建选择对象
                //var range = document.body.createTextRange();
                range.moveToElementText(obj);//range定位到obj
                range.collapse(false);//光标移至最后
                range.select();
            }
        }
        
          var editor=document.getElementById('editer');
editor.onfocus = function () {
  window.setTimeout(function () {
    var sel,range;
    if (window.getSelection && document.createRange) {
      range = document.createRange();
      range.selectNodeContents(editor);
      range.collapse(true);
      range.setEnd(editor, editor.childNodes.length);
      range.setStart(editor, editor.childNodes.length);
      sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    } else if (document.body.createTextRange) {
      range = document.body.createTextRange();
      range.moveToElementText(editor);
      range.collapse(true);
      range.select();
    }
  }, 1);
}

editor.focus()
      
</script>
  </body>
  </html>